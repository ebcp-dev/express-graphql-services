{"version":3,"sources":["../src/introspection.js"],"names":["getIntrospectSchema","url","makeDatabaseServiceLink","uri","fetch","databaseServiceSchemaDefinition","schema","link"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;;;AAEO,IAAMA;AAAA,qEAAsB,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACjC;AACMC,mCAF2B,GAED,SAA1BA,uBAA0B;AAAA,qBAC9B,oCAAe;AACbC,qBAAKF,GADQ;AAEbG;AAFa,eAAf,CAD8B;AAAA,aAFC;;AAQjC;;;AARiC;AAAA,mBASa,oCAC5CF,yBAD4C,CATb;;AAAA;AAS3BG,2CAT2B;AAAA,6CAc1B,8CAA2B;AAChCC,sBAAQD,+BADwB;AAEhCE,oBAAML;AAF0B,aAA3B,CAd0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"introspection.js","sourcesContent":["import fetch from 'node-fetch';\nimport { makeRemoteExecutableSchema, introspectSchema } from 'graphql-tools';\nimport { createHttpLink } from 'apollo-link-http';\n\nexport const getIntrospectSchema = async url => {\n  // Create a link to a GraphQL instance by passing fetch instance and url\n  const makeDatabaseServiceLink = () =>\n    createHttpLink({\n      uri: url,\n      fetch\n    });\n\n  // Fetch our schema\n  const databaseServiceSchemaDefinition = await introspectSchema(\n    makeDatabaseServiceLink()\n  );\n\n  // make an executable schema\n  return makeRemoteExecutableSchema({\n    schema: databaseServiceSchemaDefinition,\n    link: makeDatabaseServiceLink()\n  });\n};\n"]}